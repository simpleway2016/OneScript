var iconHtml = "\n<svg class=\"PullToRefresh_img2\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"width:100px;height:100px;\" viewBox=\"0 0 512 512\">\n  <defs>\n    <style>\n      .PullToRefresh_img2 .cls-1{fill:url(#PullToRefresh);}\n      .PullToRefresh_img2 .cls-2{fill:url(#PullToRefresh_2);}\n      .PullToRefresh_img2 .cls-3{fill:url(#PullToRefresh_4);}\n      .PullToRefresh_img2 .cls-4{fill:url(#PullToRefresh_5);}\n      .PullToRefresh_img2 .cls-5{fill:url(#PullToRefresh_6);}\n      .PullToRefresh_img2 .cls-6{fill:url(#PullToRefresh_7);}\n      .PullToRefresh_img2 .cls-7{fill:url(#PullToRefresh_30);}\n      .PullToRefresh_img2 .cls-8{fill:url(#PullToRefresh_28);}\n    </style>\n    <linearGradient id=\"PullToRefresh\" x1=\"233.87\" y1=\"846.41\" x2=\"233.87\" y2=\"237.91\" gradientTransform=\"translate(6.53 -278.02) scale(1.07)\" gradientUnits=\"userSpaceOnUse\">\n      <stop offset=\"0\" stop-color=\"#fff\"/>\n      <stop offset=\"1\" stop-color=\"#e8efee\"/>\n    </linearGradient>\n    <linearGradient id=\"PullToRefresh_2\" x1=\"233.87\" y1=\"166.03\" x2=\"233.87\" y2=\"754.81\" xlink:href=\"#PullToRefresh\"/>\n    <linearGradient id=\"PullToRefresh_4\" x1=\"233.87\" y1=\"361.42\" x2=\"233.87\" y2=\"636.31\" xlink:href=\"#PullToRefresh\"/>\n    <linearGradient id=\"PullToRefresh_5\" x1=\"233.37\" y1=\"361.92\" x2=\"233.37\" y2=\"636.81\" xlink:href=\"#PullToRefresh\"/>\n    <linearGradient id=\"PullToRefresh_6\" x1=\"268.03\" y1=\"535.26\" x2=\"148.66\" y2=\"415.9\" gradientTransform=\"translate(6.53 -278.02) scale(1.07)\" gradientUnits=\"userSpaceOnUse\">\n      <stop offset=\"0\" stop-color=\"#c2cece\" stop-opacity=\"0\"/>\n      <stop offset=\"0.18\" stop-color=\"#afbcbc\" stop-opacity=\"0.18\"/>\n      <stop offset=\"1\" stop-color=\"#5b6a6a\"/>\n    </linearGradient>\n    <linearGradient id=\"PullToRefresh_7\" x1=\"331.55\" y1=\"598.54\" x2=\"214.29\" y2=\"481.28\" xlink:href=\"#PullToRefresh_6\"/>\n    <linearGradient id=\"PullToRefresh_30\" x1=\"208.02\" y1=\"293.19\" x2=\"378.77\" y2=\"293.19\" gradientUnits=\"userSpaceOnUse\">\n      <stop offset=\"0\" stop-color=\"#e2e0e0\"/>\n      <stop offset=\"1\" stop-color=\"#c1c1c1\"/>\n    </linearGradient>\n    <linearGradient id=\"PullToRefresh_28\" x1=\"133.23\" y1=\"219.02\" x2=\"295.63\" y2=\"219.02\" xlink:href=\"#PullToRefresh_30\"/>\n  </defs>\n  <title>aaa</title>\n  <circle class=\"cls-1\" cx=\"256\" cy=\"256\" r=\"256\"/>\n  <circle class=\"cls-2\" cx=\"256\" cy=\"256\" r=\"247.7\"/>\n  <circle class=\"cls-3\" cx=\"256\" cy=\"256\" r=\"176.64\"/>\n  <circle class=\"cls-4\" cx=\"255.47\" cy=\"256.53\" r=\"176.64\"/>\n  <path class=\"cls-5\" d=\"M432.4,265.19l-71.07-71.07c-5-6.51-10.82-9.53-17.08-8.91-1-1.23-54.59-53.19-54.59-53.19-17.3-4.9-47.53-13.24-63.28-17.34C203.56,108.73,201,106.05,209,132.2c2.32,7.64.34,10.43-6.53,13.76-33.88,16.45-55.69,43.39-65.07,79.75-8.1,31.42-4.39,61.83,11.52,90.36a23.53,23.53,0,0,0,7.23,8.15L264.35,432.44A176.65,176.65,0,0,0,432.4,265.19Z\"/>\n  <path class=\"cls-6\" d=\"M432.41,265.19A176.65,176.65,0,0,1,264.35,432.43l-56-56.14.3-.4.12-.24s0,0,0,0c-.5-1.46.37-3.28,2.53-5.76.76-.9,1.7-1.88,2.8-3q29-28.59,58.23-57c8-7.77,9.82-7.12,13.11,4,1.64,5.54,3.23,11.11,4.92,16.64.19.6.91,1,1.38,1.57,41.95-16.6,61.18-69.3,40.93-112.13-8-16.85-6.46-27.28,4.71-32.79a20.13,20.13,0,0,1,6.87-2.06h0c5.9-.59,11.37,2.06,16.2,7.82l.87,1.09Z\"/>\n  <path class=\"cls-7\" d=\"M291.73,332.17c41.94-16.6,61.17-69.29,40.93-112.12-8-16.85-6.46-27.28,4.71-32.8,11.63-5.74,22,.09,29.81,16.69,28.19,60.29,3.25,132.79-56.46,161.94-8.7,4.25-9.57,8.07-7.1,16.38,6.37,21.38,6,21.48-15.65,15.94-23.48-6-47-11.9-70.45-18-12.63-2.84-11.5-5.31-3.43-13.26q29-28.59,58.24-57c8-7.77,9.82-7.12,13.1,4,1.64,5.55,3.23,11.11,4.92,16.64C290.53,331.2,291.25,331.65,291.73,332.17Z\"/>\n  <path class=\"cls-8\" d=\"M289.66,132a8.21,8.21,0,0,1,3.72,13.54c-19.35,20.49-38,40.28-56.82,59.82-4.6,4.77-7.6,1.45-9.06-3.74-2-7.22-4.13-14.42-6.22-21.68-40.8,15.26-61.22,67.07-43.55,108.53,1.42,3.33,3.17,6.5,4.69,9.79,5.15,11.12,1.93,22.15-7.81,27s-19.84,1.39-25.71-9.15c-15.91-28.53-19.62-58.93-11.52-90.36,9.38-36.36,31.19-63.31,65.07-79.75,6.87-3.33,8.85-6.12,6.53-13.76-8-26.15-5.43-23.46,17.39-17.52C242.13,118.78,272.36,127.11,289.66,132Z\"/>\n</svg>\n";
var iconEle = document.createElement("DIV");
iconEle.innerHTML = iconHtml;
iconEle.style.position = "absolute";
var iconHtml2 = "\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"width:100px;height:100px;\" viewBox=\"0 0 512 512\" xml:space=\"preserve\">\n<linearGradient id=\"PullToRefresh_SVGID2_1_\" gradientUnits=\"userSpaceOnUse\" x1=\"236.9375\" y1=\"-63.1025\" x2=\"236.9375\" y2=\"545.3955\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#FFFFFF\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#E8EFEE\"/>\n</linearGradient>\n<circle style=\"fill:url(#PullToRefresh_SVGID2_1_);\" cx=\"256\" cy=\"256\" r=\"256\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_2_\" gradientUnits=\"userSpaceOnUse\" x1=\"236.9375\" y1=\"617.2775\" x2=\"236.9375\" y2=\"28.4975\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#FFFFFF\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#E8EFEE\"/>\n</linearGradient>\n<circle style=\"fill:url(#PullToRefresh_SVGID2_2_);\" cx=\"256\" cy=\"256\" r=\"247.701\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_3_\" gradientUnits=\"userSpaceOnUse\" x1=\"123.1875\" y1=\"396.4375\" x2=\"339.6375\" y2=\"179.9875\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#5B6A6A\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#303033\"/>\n</linearGradient>\n<circle style=\"fill:url(#PullToRefresh_SVGID2_3_);\" cx=\"256\" cy=\"256\" r=\"223.392\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_4_\" gradientUnits=\"userSpaceOnUse\" x1=\"236.9375\" y1=\"421.8875\" x2=\"236.9375\" y2=\"146.9975\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#FFFFFF\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#E8EFEE\"/>\n</linearGradient>\n<circle style=\"fill:url(#PullToRefresh_SVGID2_4_);\" cx=\"256\" cy=\"256\" r=\"176.64\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_5_\" gradientUnits=\"userSpaceOnUse\" x1=\"236.4375\" y1=\"421.3875\" x2=\"236.4375\" y2=\"146.4975\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#FFFFFF\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#E8EFEE\"/>\n</linearGradient>\n<circle style=\"fill:url(#PullToRefresh_SVGID2_5_);\" cx=\"255.467\" cy=\"256.533\" r=\"176.64\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_6_\" gradientUnits=\"userSpaceOnUse\" x1=\"271.1049\" y1=\"248.0549\" x2=\"151.7349\" y2=\"367.4149\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#C2CECE;stop-opacity:0\"/>\n\t<stop  offset=\"0.179\" style=\"stop-color:#AFBCBC;stop-opacity:0.179\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#5B6A6A\"/>\n</linearGradient>\n<path style=\"fill:url(#PullToRefresh_SVGID2_6_);\" d=\"M432.404,265.186l-71.074-71.074c-5.04-6.514-10.817-9.533-17.078-8.908\n\tc-0.999-1.232-54.593-53.188-54.593-53.188c-17.298-4.9-47.529-13.239-63.28-17.34c-22.823-5.941-25.343-8.623-17.392,17.523\n\tc2.322,7.636,0.337,10.427-6.533,13.761c-33.885,16.445-55.695,43.394-65.071,79.753c-8.103,31.424-4.389,61.826,11.517,90.355\n\tc1.979,3.55,4.455,6.263,7.229,8.148L264.35,432.438C354.982,428.219,427.766,355.707,432.404,265.186z\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_7_\" gradientUnits=\"userSpaceOnUse\" x1=\"334.6245\" y1=\"184.7745\" x2=\"217.3644\" y2=\"302.0345\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#C2CECE;stop-opacity:0\"/>\n\t<stop  offset=\"0.179\" style=\"stop-color:#AFBCBC;stop-opacity:0.179\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#5B6A6A\"/>\n</linearGradient>\n<path style=\"fill:url(#PullToRefresh_SVGID2_7_);\" d=\"M432.41,265.19c-4.646,90.522-77.427,163.034-168.064,167.245l-56.004-56.137l0.299-0.401\n\tl0.115-0.243c-0.013-0.013,0-0.013,0-0.013c-0.499-1.459,0.371-3.277,2.534-5.76c0.755-0.896,1.702-1.882,2.803-2.97\n\tc19.328-19.059,38.733-38.054,58.227-56.96c8.013-7.77,9.818-7.117,13.107,4.006c1.638,5.542,3.226,11.11,4.915,16.64\n\tc0.192,0.602,0.909,1.05,1.382,1.574c41.946-16.602,61.184-69.299,40.934-112.128c-7.962-16.845-6.464-27.277,4.71-32.794\n\tc2.355-1.152,4.646-1.843,6.874-2.061c0.013,0.013,0.013,0.013,0.013,0.013c5.901-0.589,11.366,2.061,16.205,7.821\n\tc0.294,0.358,0.576,0.717,0.87,1.088L432.41,265.19z\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_8_\" gradientUnits=\"userSpaceOnUse\" x1=\"271.9926\" y1=\"146.481\" x2=\"271.9926\" y2=\"349.1559\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#00A6F9\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#0071E2\"/>\n</linearGradient>\n<path style=\"fill:url(#PullToRefresh_SVGID2_8_);\" d=\"M291.73,332.169c41.939-16.597,61.172-69.29,40.931-112.119\n\tc-7.963-16.849-6.464-27.281,4.714-32.799c11.634-5.743,22.047,0.087,29.809,16.69c28.187,60.288,3.248,132.79-56.462,161.943\n\tc-8.699,4.247-9.574,8.07-7.1,16.384c6.366,21.381,5.998,21.478-15.655,15.936c-23.484-6.011-46.996-11.905-70.451-18.026\n\tc-12.627-2.844-11.5-5.306-3.428-13.262c19.339-19.062,38.745-38.057,58.238-56.96c8.011-7.769,9.815-7.12,13.098,3.999\n\tc1.637,5.548,3.227,11.11,4.918,16.641C290.528,331.205,291.249,331.652,291.73,332.169z\"/>\n<linearGradient id=\"PullToRefresh_SVGID2_9_\" gradientUnits=\"userSpaceOnUse\" x1=\"140.5169\" y1=\"374.6669\" x2=\"229.7369\" y2=\"285.4369\" gradientTransform=\"matrix(1.0667 0 0 -1.0667 3.2667 557.5334)\">\n\t<stop  offset=\"0\" style=\"stop-color:#00A6F9\"/>\n\t<stop  offset=\"1\" style=\"stop-color:#0071E2\"/>\n</linearGradient>\n<path style=\"fill:url(#PullToRefresh_SVGID2_9_);\" d=\"M289.659,132.015c5.931,1.68,7.951,9.057,3.718,13.538\n\tc-19.348,20.49-37.951,40.282-56.818,59.82c-4.605,4.768-7.601,1.446-9.06-3.735c-2.032-7.218-4.131-14.417-6.219-21.681\n\tc-40.801,15.264-61.216,67.072-43.548,108.528c1.417,3.325,3.174,6.503,4.694,9.787c5.147,11.116,1.932,22.155-7.813,26.951\n\tc-9.638,4.745-19.838,1.385-25.713-9.154c-15.906-28.529-19.62-58.932-11.517-90.355c9.376-36.358,31.186-63.308,65.071-79.753\n\tc6.869-3.334,8.855-6.125,6.532-13.761c-7.952-26.145-5.431-23.463,17.392-17.523C242.13,118.775,272.361,127.115,289.659,132.015z\"\n\t/>\n</svg>\n";
var iconEle2 = document.createElement("DIV");
iconEle2.innerHTML = iconHtml2;
iconEle2.style.position = "absolute";
var PullToRefresh = /** @class */ (function () {
    function PullToRefresh() {
    }
    /**
     * 启用下拉刷新
     * @param option
     */
    PullToRefresh.enable = function (option) {
        if (!PullToRefresh.addStyle) {
            PullToRefresh.addStyle = true;
            var element = option.element;
            //往<head>添加自用的样式
            var style = document.createElement("STYLE");
            style.textContent = "\n        @keyframes _onescript_PullToRefresh_keyframe {\n\n            to {\n                transform: translate3d(0,0,0);\n            }\n        }\n\n        @-moz-keyframes _onescript_PullToRefresh_keyframe {\n            to {\n                -moz-transform: translate3d(0,0,0);\n            }\n        }\n\n        @-webkit-keyframes _onescript_PullToRefresh_keyframe {\n            to {\n                -webkit-transform: translate3d(0,0,0);\n            }\n        }\n\n        @-o-keyframes _onescript_PullToRefresh_keyframe {\n            to {\n                -o-transform: translate3d(0,0,0);\n            }\n        }\n";
            document.head.appendChild(style);
        }
        var imgEle;
        if (option.imgEleOrUrl === undefined) {
            imgEle = iconEle;
        }
        else {
            if (typeof option.imgEleOrUrl === "string") {
                imgEle = document.createElement("IMG");
                imgEle.src = option.imgEleOrUrl;
            }
            else {
                imgEle = option.imgEleOrUrl;
            }
            if (imgEle.parentElement)
                imgEle.parentElement.removeChild(imgEle);
            imgEle.style.position = "absolute";
        }
        imgEle.style.zIndex = "999999";
        var imgEle2;
        if (option.imgEleOrUrlWhenEnable === undefined) {
            imgEle2 = iconEle2;
        }
        else {
            if (typeof option.imgEleOrUrlWhenEnable === "string") {
                imgEle2 = document.createElement("IMG");
                imgEle2.src = option.imgEleOrUrlWhenEnable;
            }
            else {
                imgEle2 = option.imgEleOrUrlWhenEnable;
            }
            if (imgEle2.parentElement)
                imgEle2.parentElement.removeChild(imgEle2);
            imgEle2.style.position = "absolute";
        }
        imgEle2.style.zIndex = "999999";
        var startY = 0;
        var originalY = 0;
        var touchstarted = false;
        var eleRect;
        var imgOriginalWidth = 0;
        var u = navigator.userAgent;
        var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
        if (isIOS) {
            //启动ios的弹性效果
            element.style.webkitOverflowScrolling = 'touch';
            var isStart = false;
            imgEle.style.visibility = "hidden";
            imgEle2.style.visibility = "hidden";
            document.body.appendChild(imgEle);
            document.body.appendChild(imgEle2);
            var canCallback = false;
            element.addEventListener("scroll", function (e) {
                if (element.scrollTop < 0) {
                    if (isStart === false) {
                        isStart = true;
                        eleRect = element.getBoundingClientRect();
                        imgEle.style.opacity = "0";
                        imgEle.style.transformOrigin = "50% 50%";
                        if (option.rotate !== false)
                            imgEle.style.transform = "translate(0px,0px) rotate(0deg)";
                        if (imgOriginalWidth == 0) {
                            imgOriginalWidth = imgEle.offsetWidth;
                        }
                        imgEle2.style.opacity = "0";
                        imgEle2.style.transformOrigin = "50% 50%";
                        if (option.rotate !== false)
                            imgEle2.style.transform = "translate(0px,0px) rotate(0deg)";
                    }
                    else {
                        var diff = -element.scrollTop;
                        if (diff < 0)
                            diff = 0;
                        var opacity = Math.min(1, diff / (element.offsetWidth / 4.0));
                        imgEle.style.opacity = opacity.toString();
                        var left = ((eleRect.width - imgOriginalWidth) / 2 + eleRect.left) + "px";
                        var top = ((diff - imgOriginalWidth) / 2 + eleRect.top) + "px";
                        if (option.rotate !== false) {
                            imgEle.style.transform = "translate(" + left + "," + top + ") rotate(" + (diff % 360) + "deg) scale(" + opacity / 1.3 + ")";
                        }
                        else {
                            imgEle.style.transform = "translate(" + left + "," + top + ") scale(" + opacity / 1.3 + ")";
                        }
                        imgEle2.style.opacity = imgEle.style.opacity;
                        imgEle2.style.transform = imgEle.style.transform;
                        if (opacity === 1) {
                            canCallback = true;
                            imgEle2.style.visibility = "";
                            imgEle.style.visibility = "hidden";
                        }
                        else {
                            canCallback = false;
                            imgEle.style.visibility = "";
                            imgEle2.style.visibility = "hidden";
                        }
                    }
                }
                else if (element.scrollTop > 0) { //element.scrollTop == 0不行，因为就算此刻element.scrollTop < 0，有时也会触发element.scrollTop==0的情况，其实并不是element.scrollTop==0
                    if (isStart) {
                        isStart = false;
                        imgEle.style.visibility = "hidden";
                        imgEle2.style.visibility = "hidden";
                    }
                }
            });
            var touchend = function () {
                if (isStart) {
                    isStart = false;
                    imgEle.style.visibility = "hidden";
                    imgEle2.style.visibility = "hidden";
                }
                if (canCallback) {
                    console.log("PullToRefresh callback");
                    if (option.callback) {
                        option.callback();
                    }
                }
            };
            element.addEventListener("touchend", touchend);
            element.addEventListener("touchcancel", touchend);
        }
        else {
            var animationFuncEnd = function () {
                element.style.transform = "";
                element.style.webkitTransform = "";
                element.style.animation = "";
                element.style.webkitAnimation = "";
                element.removeEventListener("webkitAnimationEnd", animationFuncEnd);
                element.removeEventListener("animationend", animationFuncEnd);
                if (parseFloat(imgEle.style.opacity) >= 1) {
                    if (option.callback) {
                        option.callback();
                    }
                }
            };
            element.addEventListener("touchstart", function (e) {
                if (element.style.transform)
                    return;
                touchstarted = true;
                // Chrome, Safari 和 Opera 代码
                element.addEventListener("webkitAnimationEnd", animationFuncEnd);
                // 标准语法
                element.addEventListener("animationend", animationFuncEnd);
                startY = e.touches[0].clientY + element.scrollTop;
                eleRect = element.getBoundingClientRect();
                imgEle.style.opacity = "0";
                imgEle.style.transformOrigin = "50% 50%";
                if (option.rotate !== false)
                    imgEle.style.transform = "translate(0px,0px) rotate(0deg)";
                document.body.appendChild(imgEle);
                if (imgOriginalWidth == 0) {
                    imgOriginalWidth = imgEle.offsetWidth;
                }
                imgEle2.style.opacity = "0";
                imgEle2.style.transformOrigin = "50% 50%";
                if (option.rotate !== false)
                    imgEle2.style.transform = "translate(0px,0px) rotate(0deg)";
                imgEle2.style.display = "none";
                document.body.appendChild(imgEle2);
            });
            element.addEventListener("touchmove", function (e) {
                if (touchstarted) {
                    if (element.scrollTop === 0) {
                        var y = e.touches[0].clientY;
                        var diff = y - startY;
                        if (diff < 0)
                            diff = 0;
                        var opacity = Math.min(1, diff / (element.offsetWidth / 3.0));
                        imgEle.style.opacity = opacity.toString();
                        var left = ((eleRect.width - imgOriginalWidth) / 2 + eleRect.left) + "px";
                        var top = ((diff - imgOriginalWidth) / 2 + eleRect.top) + "px";
                        if (option.rotate !== false) {
                            imgEle.style.transform = "translate(" + left + "," + top + ") rotate(" + (diff % 360) + "deg) scale(" + opacity + ")";
                        }
                        else {
                            imgEle.style.transform = "translate(" + left + "," + top + ") scale(" + opacity + ")";
                        }
                        imgEle2.style.opacity = imgEle.style.opacity;
                        imgEle2.style.transform = imgEle.style.transform;
                        if (opacity === 1) {
                            imgEle2.style.display = "";
                            imgEle.style.display = "none";
                        }
                        else {
                            imgEle.style.display = "";
                            imgEle2.style.display = "none";
                        }
                        element.style.transform = "translate3d(0," + diff + "px,0)";
                        element.style.webkitTransform = "translate3d(0," + diff + "px,0)";
                        if (diff > 0)
                            e.preventDefault();
                    }
                }
            });
            var touchend = function () {
                if (touchstarted) {
                    touchstarted = false;
                    document.body.removeChild(imgEle);
                    document.body.removeChild(imgEle2);
                    element.style.animation = "_onescript_PullToRefresh_keyframe 0.25s linear";
                    element.style.webkitAnimation = "_onescript_PullToRefresh_keyframe 0.25s linear";
                    element.style.animationFillMode = "forwards"; //这两句代码必须放在animation赋值的后面
                    element.style.webkitAnimationFillMode = "forwards";
                }
            };
            element.addEventListener("touchend", touchend);
            element.addEventListener("touchcancel", touchend);
        }
    };
    PullToRefresh.addStyle = false;
    return PullToRefresh;
}());
export { PullToRefresh };
//# sourceMappingURL=PullToRefresh.js.map